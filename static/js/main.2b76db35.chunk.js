(this.webpackJsonpmandunda=this.webpackJsonpmandunda||[]).push([[0],{129:function(e,t,n){},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(9),i=n(15),o=n(18),s=n(36),l=n(19),r=n(25),c=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16777215,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:60;Object(a.a)(this,e),this.mainClip=new l.a("root"),this.app=void 0,this.isPlaying=!1,this.framesPerSecond=60,this.secondPerFrame=1/this.framesPerSecond,this.lastTime=(new Date).getTime(),this.timeLeft=1e3*this.secondPerFrame,this.deltaTime=0,this.ticks=[],this.objects={},this.engine=s.Engine.create(),this.bodys=[],this.startCallback=[],this.isDestroying=!1,this.target=void 0,this.keys=[],this.keysDownOnce=[],this.keysUpOnce=[],this.mouseDown=!1,this.mouseOnceDown=0,this.mouseOnceUp=0,this.mouseOnceClick=0,this.app=new o.a({width:t,height:n,backgroundColor:r}),this.objects.root=this.mainClip,this.target=i,this.setFps(c),i.appendChild(this.app.view),this.engine.world.gravity.y=1}return Object(i.a)(e,[{key:"setFps",value:function(e){this.framesPerSecond=e,this.secondPerFrame=1/e}},{key:"start",value:function(){var e=this;o.d.shared.on("complete",(function(){alert("\uc644\ub8cc")})),this.initEvents(),this.isPlaying=!0,this.mainClip.update(this.app,r.a.init,!0),this.startCallback.map((function(e){e()})),this.ticks.map((function(t){e.app.ticker.add(t)})),requestAnimationFrame((function(){e.animate(e)}))}},{key:"animate",value:function(e){var t=this;this.isDestroying?this.app.destroy(!0):(this.deltaTime=Math.min((new Date).getTime()-this.lastTime,1e3*this.secondPerFrame),this.updatePhysics(this.deltaTime),this.timeLeft-=this.deltaTime,this.timeLeft<0&&this.isPlaying?(this.mainClip.update(this.app),this.timeLeft=1e3*this.secondPerFrame):this.mainClip.render(this.app),this.lastTime=(new Date).getTime(),requestAnimationFrame((function(){t.animate(e)})))}},{key:"destroy",value:function(){this.isDestroying=!0}},{key:"stop",value:function(){this.isPlaying=!1}},{key:"play",value:function(){this.isPlaying=!0}},{key:"addObject",value:function(e,t){this.objects[e]=t,t.name=e}},{key:"getObject",value:function(e){return this.objects[e]}},{key:"addPhysics",value:function(e,t,n,a,i){var o;o=e instanceof l.a?e.getBound():e.sprite.getBounds();var r=e.getTransform(),c=s.Bodies.rectangle(r.x+o.width/2,r.y+o.height/2,o.width,o.height);c.angle=r.rotation,c.friction=n,c.mass=a,c.isStatic=t,s.World.add(this.engine.world,c),i&&s.Body.setInertia(c,9999999999),e.body=c,this.bodys.push({body:c,gameObject:e})}},{key:"updatePhysics",value:function(e){this.bodys.map((function(e){var t=e.gameObject.getTransform();e.gameObject.setTransform(new r.a(e.body.vertices[0].x,e.body.vertices[0].y,t.scaleX,t.scaleY,e.body.angle))})),s.Engine.update(this.engine,e,1)}},{key:"addMouseEvent",value:function(e,t,n){e.interactive=!0,e.hitArea=new o.e(0,0,e.width/this.app.renderer.resolution,e.height/this.app.renderer.resolution),e.interactiveChildren=!0,e.addListener(t,n)}},{key:"addTick",value:function(e){this.ticks.push(e)}},{key:"isKeyDown",value:function(e){return this.keys[e]}},{key:"isKeyPress",value:function(e){return 1==this.keysDownOnce[e]}},{key:"isKeyRelease",value:function(e){return 1==this.keysUpOnce[e]}},{key:"isMouseDown",value:function(){return this.mouseDown}},{key:"isMouseOnceDown",value:function(){return 1==this.mouseOnceDown}},{key:"isMouseOnceUp",value:function(){return 1==this.mouseOnceUp}},{key:"isMouseOnceClick",value:function(){return 1==this.mouseOnceClick}},{key:"initEvents",value:function(){var e=this;this.app.view.addEventListener("mousedown",(function(){e.onMouseDown()})),this.app.view.addEventListener("mouseup",(function(){e.onMouseUp()})),this.app.view.addEventListener("click",(function(){e.onClick()})),window.addEventListener("keydown",(function(t){e.keyDown(t)})),window.addEventListener("keyup",(function(t){e.keyUp(t)})),this.keys[4]=!0,this.app.ticker.add((function(){e.eventTick()}))}},{key:"eventTick",value:function(){var e=this;this.keysDownOnce.map((function(t,n){0!=t?e.keysDownOnce[n]--:e.keysDownOnce=e.keysDownOnce.slice(n,n)})),this.keysUpOnce.map((function(t,n){0!=t?e.keysUpOnce[n]--:e.keysUpOnce=e.keysUpOnce.slice(n,n)})),0!=this.mouseOnceDown&&this.mouseOnceDown--,0!=this.mouseOnceUp&&this.mouseOnceUp--,0!=this.mouseOnceClick&&this.mouseOnceClick--}},{key:"onMouseDown",value:function(){this.mouseDown=!0,this.mouseOnceDown=2}},{key:"onMouseUp",value:function(){this.mouseDown=!1,this.mouseOnceUp=2}},{key:"onClick",value:function(){this.mouseOnceClick=2}},{key:"keyDown",value:function(e){this.keysDownOnce[e.keyCode]=e.repeat?-1:2,this.keys[e.keyCode]=!0}},{key:"keyUp",value:function(e){this.keysUpOnce[e.keyCode]=e.repeat?-1:2,this.keys[e.keyCode]=!1}}]),e}()},136:function(e,t,n){"use strict";var a=n(19),i=n(36),o=n.n(i),s={addForce:function(e,t,n,a){t.body&&o.a.Body.applyForce(t.body,t.body.position,{x:n,y:a})},addPhysics:function(e,t,n,a,i,o){e.addPhysics(t,i,n,a,o)},checkCollision:function(e,t,n){if(t.body&&n.body)return 0!=o.a.Query.collides(t.body,[n.body]).length},gameStart:function(e,t){e.startCallback.push(t)},gameTick:function(e,t){e.addTick(t)},getKeyboardEvent:function(e,t,n){switch(t){case"isDown":return e.isKeyPress(n);case"isUp":return e.isKeyRelease(n)}},getKeyboardState:function(e,t,n){var a=e.isKeyDown(n);switch(t){case"isDown":return a;case"isUp":return!a}},getMouseEvent:function(e,t){switch(t){case"isDown":return e.isMouseOnceDown();case"isUp":return e.isMouseOnceUp();case"isClick":return e.isMouseOnceClick()}},getMouseState:function(e,t){var n=e.isMouseDown();switch(t){case"isDown":return n;case"isUp":return!n}},getObject:function(e,t){return e.getObject(t)},getPos:function(e,t,n){switch(t){case"x":return n.getTransform().x;case"y":return n.getTransform().y}},getVelocity:function(e,t,n){if(n.body)switch(t){case"x":return n.body.velocity.x;case"y":return n.body.velocity.y}},mouseEvent:function(e,t,n,i){t instanceof a.a?console.log("\ubb34\ube44\ud074\ub9bd\uc740 \ub9c8\uc6b0\uc2a4 \uc774\ubca4\ud2b8\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):e.addMouseEvent(t.sprite,n,i)},setPos:function(e,t,n,a){if(t.body){var i=t.body.vertices[0].x-t.body.position.x,s=t.body.vertices[0].y-t.body.position.y;o.a.Body.setPosition(t.body,{x:n-i,y:a-s})}var l=t.getTransform();l.x=n,l.y=a,t.setTransform(l,!0)},setVelocity:function(e,t,n,a){t.body&&o.a.Body.setVelocity(t.body,{x:n,y:a})},setRotation:function(e,t,n){t.body&&(console.log(n),o.a.Body.setAngle(t.body,n*Math.PI/180));var a=t.getTransform();a.rotation=n,t.setTransform(a,!0)},play:function(e,t){t instanceof a.a&&t.play()},stop:function(e,t){t instanceof a.a&&t.stop()},gotoAndPlay:function(e,t,n){t instanceof a.a&&t.gotoAndPlay(n)},gotoAndStop:function(e,t,n){t instanceof a.a&&t.gotoAndStop(n)},checkDrawing:function(e,t){return-1!=e.mainClip.getCurrentFrame().getObjects().indexOf(t)},getCurrentFrame:function(e,t){return t instanceof a.a?t.currentFrame:1}};t.a=s},156:function(e,t,n){e.exports=n(869)},161:function(e,t,n){},182:function(e,t){},184:function(e,t){},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(9),i=n(15),o=n(25),s=n(18),l=function(){function e(){Object(a.a)(this,e),this.script=null,this.objects=[],this.batches=[]}return Object(i.a)(e,[{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.init,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.objects.forEach((function(n){n.update(e,t)})),n&&this.rebatchAll()}},{key:"updateBatchToCurrentState",value:function(){this.batches.map((function(e){e.transform=e.object.getTransform()}))}},{key:"rebatchAll",value:function(){this.batches.forEach((function(e){e.object.setTransform(e.transform)}))}},{key:"addObject",value:function(e,t){this.objects.push(e);var n={object:e,transform:t};this.batches.push(n)}},{key:"removeObject",value:function(e){var t=this;this.objects.map((function(n,a){n==e&&(t.objects.splice(a,1),t.batches.splice(a,1))}))}},{key:"getObjects",value:function(){return this.objects}},{key:"getBatches",value:function(){return this.batches}},{key:"render",value:function(e){this.objects.forEach((function(t){t.render(e)}))}},{key:"makeContainer",value:function(){this.rebatchAll();var e=new s.b;return this.objects.map((function(t){t instanceof c?e.addChild(t.makeContainer(1)):e.addChild(t.sprite)})),e}},{key:"exportStruct",value:function(){var e=[];return this.batches.map((function(t){if(t.object instanceof c){var n=t.object.exportStruct(t.transform);e.push(n)}else e.push({type:"Graphic",name:t.object.name,transform:t.transform,maker:t.object.exportMaker()})})),e}}]),e}(),r=n(74),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.init;Object(a.a)(this,e),this.name=void 0,this.transform=void 0,this.childs=[],this.parent=void 0,this.frames=[],this.currentFrame=1,this.isPlaying=!0,this.nextUpdate=-1,this.body=null,this.name=t,this.transform=n,this.addFrame()}return Object(i.a)(e,[{key:"setTransform",value:function(e){this.transform=e}},{key:"getTransform",value:function(){return this.transform.clone()}},{key:"play",value:function(){this.isPlaying=!0}},{key:"stop",value:function(){this.isPlaying=!1}},{key:"gotoAndStop",value:function(e){this.nextUpdate=e,this.stop()}},{key:"gotoAndPlay",value:function(e){this.nextUpdate=e,this.play()}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"addFrame",value:function(){return this.frames.push(new l),this.getFrameCount()}},{key:"removeFrame",value:function(e){return 1==this.getFrameCount()?1:(this.frames.splice(e-1,1),this.currentFrame=Math.max(e-1,1),this.currentFrame)}},{key:"extendFramesTo",value:function(e){for(var t=e-this.getFrameCount(),n=0;n<t;n++)this.addFrame()}},{key:"getFrame",value:function(e){return this.frames[e-1]}},{key:"getCurrentFrame",value:function(){return this.getFrame(this.currentFrame)}},{key:"addObject",value:function(e,t,n){var a=this;t.forEach((function(t,i){a.extendFramesTo(t),a.getFrame(t).addObject(e,n[i]),a.childs.push(e),e.setParent(a)}))}},{key:"removeObject",value:function(e,t){var n=this;this.getFrame(t).removeObject(e),this.childs.map((function(t,a){t==e&&n.childs.splice(a,1)}))}},{key:"getChild",value:function(e){return this.childs[e]}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){this.parent=e}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.init,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log(this.name),console.log(this.currentFrame),this.getFrameCount()<=1&&(this.isPlaying=!1),-1!=this.nextUpdate&&(this.currentFrame=this.nextUpdate,this.nextUpdate=-1),this.isPlaying&&(this.currentFrame==this.getFrameCount()?this.currentFrame=1:this.currentFrame+=1),this.getCurrentFrame().update(e,t.calcChildTransform(this.transform),this.isPlaying||n)}},{key:"render",value:function(e){this.getCurrentFrame().render(e)}},{key:"makeContainer",value:function(e){var t=this.getFrame(e).makeContainer();return t.setTransform(this.transform.x,this.transform.y,this.transform.scaleX,this.transform.scaleY,this.transform.rotation),t}},{key:"getBound",value:function(){var e=this.makeContainer(1);e.angle=0;var t=this.makeContainer(1).getBounds();return e.destroy(),t}},{key:"exportStruct",value:function(e){var t=[];return this.frames.map((function(e){t.push(e.exportStruct())})),{type:"MovieClip",name:this.name,transform:e,frames:t,maker:this.exportMaker()}}},{key:"exportMaker",value:function(){return{type:"MovieClip",name:this.name,transform:this.transform}}},{key:"exportJson",value:function(){return JSON.stringify(this.exportStruct(new o.a(0,0)))}},{key:"importStruct",value:function(t,n){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;t.frames.map((function(t,s){t.map((function(t){var l=e.make(t.maker,n,i);a.addObject(l,[s+1],[o.a.fromObject(t.transform)]),l instanceof e&&l.importStruct(t,n,i)}))}))}}],[{key:"importJson",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=JSON.parse(e),i=this.make(a.maker,t,n);return i.importStruct(a,t,n),i}},{key:"make",value:function(t,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=o.a.fromObject(t.transform);return a="MovieClip"==t.type?new e(t.name,s):new r.a(t.name,s,n,t.texture,t.width,t.height),i&&i.addObject(t.name,a),a}}]),e}()},192:function(e,t){},194:function(e,t){},228:function(e,t){},229:function(e,t){},231:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=231},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(9),i=n(15),o=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Object(a.a)(this,e),this.x=void 0,this.y=void 0,this.scaleX=void 0,this.scaleY=void 0,this.rotation=void 0,this.x=t,this.y=n,this.scaleX=i,this.scaleY=o,this.rotation=s}return Object(i.a)(e,[{key:"calcChildTransform",value:function(t){var n=t,a=this.rotatePos(n.x,n.y,this.rotation);return new e(a.x*this.scaleX+this.x,a.y*this.scaleY+this.y,n.scaleX*this.scaleX,n.scaleY*this.scaleY,n.rotation+this.rotation)}},{key:"rotatePos",value:function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:t*Math.cos(n)+e*Math.sin(n)}}},{key:"clone",value:function(){return new e(this.x,this.y,this.scaleX,this.scaleY,this.rotation)}}],[{key:"fromObject",value:function(t){return new e(t.x,t.y,t.scaleX,t.scaleY,t.roatation)}}]),e}();o.init=new o(0,0)},27:function(e,t,n){e.exports={App:"App_App__2NoZF",AppBar:"App_AppBar__2Kg9l",Blockly:"App_Blockly__3ite3",screenContainer:"App_screenContainer__c3hxx",Screen:"App_Screen__392HF",Properties:"App_Properties__3WWL_",tfContainer:"App_tfContainer__3MgPT",test2:"App_test2__2Jmwd",test1:"App_test1__3G2tV",test3:"App_test3__1ssgM",test4:"App_test4__10zIh",test5:"App_test5__23SaN",test6:"App_test6__3Kq8b",test7:"App_test7__2T8nz",test8:"App_test8__2o9tD",test9:"App_test9__3JGwf"}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(9),i=n(15),o=n(18),s=n(133),l=n.n(s),r=function(){function e(){var t=this;Object(a.a)(this,e),this.loader=new o.d,this.loading=0,this.queue=[],this.struct=[],this.callBack=function(){},this.loader.on("complete",(function(){t.callBack(),t.callBack=function(){}}))}return Object(i.a)(e,[{key:"add",value:function(e,t){return this.queue.push({name:e,data:t}),this}},{key:"load",value:function(e){var t=this;this.callBack=e,this.loading=this.queue.length;for(var n=function(e){var n=t.queue[e];l()(n.data).then((function(e){t.addDirectBase64(n.name,"data:image/png;base64,"+e),t.onConvert()})).catch((function(e){t.onConvert()}))},a=0;a<this.queue.length;a++)n(a);return this.queue=[],this}},{key:"onConvert",value:function(){this.loading--,0==this.loading&&this.loader.load()}},{key:"getTexture",value:function(e){return this.loader.resources[e].texture}},{key:"exportJson",value:function(){return JSON.stringify(this.struct)}},{key:"importJson",value:function(e,t){var n=this;this.struct=JSON.parse(e),this.struct.map((function(e){n.loader.add(e.name,e.data)})),this.loaderLoad(t)}},{key:"loaderLoad",value:function(e){this.callBack=e,this.loader.load()}},{key:"addDirectBase64",value:function(e,t){var n=t;return this.loader.add(e,n),this.struct.push({name:e,data:n}),this}}]),e}()},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(9),i=n(15),o=n(18),s=n(25),l=function(){function e(t,n,i,s,l,r){Object(a.a)(this,e),this.name=void 0,this.sprite=void 0,this.pixiTransform=void 0,this.transform=void 0,this.width=void 0,this.height=void 0,this.parent=void 0,this.texId=void 0,this.body=null,this.name=t,this.texId=s,this.transform=n,this.sprite=o.f.from(i.getTexture(s)),l&&(this.width=l),r&&(this.height=r),this.width=this.sprite.width,this.height=this.sprite.height}return Object(i.a)(e,[{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){this.parent=e}},{key:"setTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.transform=e,t&&this.sprite.setTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation)}},{key:"getTransform",value:function(){return this.transform.clone()}}]),Object(i.a)(e,[{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a.init,n=t.calcChildTransform(this.transform);this.sprite.transform.position.set(n.x,n.y),this.sprite.transform.rotation=n.rotation,this.sprite.scale.set(n.scaleX,n.scaleY),this.pixiTransform=this.sprite.transform,e.renderer.render(this.sprite,void 0,!1)}},{key:"render",value:function(e){this.pixiTransform&&(this.sprite.transform=this.pixiTransform),e.renderer.render(this.sprite,void 0,!1)}},{key:"exportMaker",value:function(){return{type:"Graphic",name:this.name,transform:this.transform,texture:this.texId,width:this.width,height:this.height}}}]),e}()},75:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_GameEngine_Game__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(135),_GameEngine_ResourceManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(67),_GameEngine_blockFuncs_BlockFunctions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(136),_GameEngine_MovieClip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(19),GameScreen=function GameScreen(props){var game=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),stageDiv=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),init=function init(){if(stageDiv.current&&""!=props.gameJson){game.current=new _GameEngine_Game__WEBPACK_IMPORTED_MODULE_1__.a(props.width,props.height,stageDiv.current);try{var gameFile=JSON.parse(props.gameJson),rm=new _GameEngine_ResourceManager__WEBPACK_IMPORTED_MODULE_2__.a;rm.importJson(gameFile.resource,(function(){void 0!=game.current&&(game.current.mainClip=_GameEngine_MovieClip__WEBPACK_IMPORTED_MODULE_4__.a.importJson(gameFile.objects,rm,game.current),eval("(function(game,blockFunctions){".concat(gameFile.code,"})"))(game.current,_GameEngine_blockFuncs_BlockFunctions__WEBPACK_IMPORTED_MODULE_3__.a),game.current.start())}))}catch(e){alert("\uc5d0\ub7ec \ubc1c\uc0dd"),console.log(e)}}};return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){return init(),function(){var e;null===(e=game.current)||void 0===e||e.destroy()}}),[]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:props.className,style:{border:"#F3F3F3 solid 3px"},ref:function(e){stageDiv.current=e}})};__webpack_exports__.a=GameScreen},85:function(e,t,n){e.exports={sFrame:"Frame_sFrame__1VieA",usFrame:"Frame_usFrame__1DJN2",bar:"Frame_bar__sb_4H"}},86:function(e,t,n){e.exports={GamePlayer:"GamePlayer_GamePlayer__3oK38",GameScreen:"GamePlayer_GameScreen__sUThz"}},869:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(11),s=n.n(o);n(161),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,r,c,u,d,p,m,h=n(145),f=n(14),v=n(26),b=n(27),k=n.n(b),y=n(18),g=n(19),_=n(9),E=n(15),O=function(){function e(t){Object(_.a)(this,e),this.app=void 0,this.container=new y.b,this.app=t,this.app.stage.addChildAt(this.container,0)}return Object(E.a)(e,[{key:"update",value:function(){this.container.removeChildren(),this.container.zIndex=100,this.app.stage.sortChildren()}},{key:"drawRect",value:function(e,t,n,a,i,o,s,l){var r=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{x:0,y:0};this.drawShape(e,t,n,(function(e){e.drawRect(a,i,o,s),e.rotation=l,e.pivot.set(r.x,r.y)}))}},{key:"drawCircle",value:function(e,t,n,a,i,o,s){this.drawShape(e,t,n,(function(e){e.drawCircle(a,i,o),e.rotation=s}))}},{key:"drawLine",value:function(e,t,n,a,i,o,s,l){this.drawShape(e,t,n,(function(e){e.moveTo(a,i).lineTo(o,s),e.rotation=l}))}},{key:"drawShape",value:function(e,t,n,a){var i=new y.c;i.lineStyle(e,t,n),a(i),this.container.addChild(i)}}]),e}(),C=function(){function e(t,n){var a=this;Object(_.a)(this,e),this.app=void 0,this.container=new y.b,this.frontUI=void 0,this.border=new y.c,this.points=[],this.style=void 0,this.transformChanged=function(){},this.selectedTargetChanged=function(){},this.selectedTargetMoving=function(){},this.state=l.none,this.currentPoint=-1,this.oppositePoint=-1,this.transX=!1,this.transY=!1,this.reposX=!1,this.reposY=!1,this.objects=[],this.targetIndex=void 0,this.prevMouseX=0,this.prevMouseY=0,this.app=t,this.style=n,t.ticker.add((function(){a.tick()})),this.init(),this.frontUI=new O(t)}return Object(E.a)(e,[{key:"tick",value:function(){if(this.frontUI.update(),void 0!=this.targetIndex){var e=this.objects[this.targetIndex].getBounds();this.frontUI.drawRect(5,6736896,1,e.x-2.5,e.y-2.5,e.width+5,e.height+5,0)}else this.setVisiblePoints(!1)}},{key:"init",value:function(){for(var e=this,t=function(t){var n=new y.c;n.beginFill(e.style.color),n.drawCircle(0,0,e.style.radius),e.app.stage.addChild(n),n.addListener("mousedown",(function(){e.pointMouseDown(t)})),n.addListener("mouseover",(function(){e.pointMouseOver(t)})),n.addListener("mouseout",(function(){e.pointMouseOut(t)})),n.visible=!1,n.interactive=!0,e.points.push(n),n.zIndex=1e3,e.app.stage.sortChildren()},n=0;n<10;n++)t(n);document.addEventListener("keydown",(function(t){27==t.keyCode&&e.removeTarget()})),this.app.stage.addListener("mouseup",(function(){e.mouseUp()})),this.app.stage.addListener("mousemove",(function(t){e.mouseMove(t.data.global.x,t.data.global.y)}))}},{key:"setVisiblePoints",value:function(e){this.points.forEach((function(t){t.visible=e}))}},{key:"updatePoints",value:function(e){if(void 0!=this.targetIndex){this.setVisiblePoints(!0);var t,n=this.objects[this.targetIndex].getBounds(),a=(n.left+n.right)/2,i=(n.top+n.bottom)/2;-1!=e&&(t=this.points[e].position),this.points[0].position.set(n.left,n.top),this.points[1].position.set(a,n.top),this.points[2].position.set(n.right,n.top),this.points[3].position.set(n.left,i),this.points[4].position.set(n.right,i),this.points[5].position.set(n.left,n.bottom),this.points[6].position.set(a,n.bottom),this.points[7].position.set(n.right,n.bottom),this.points[8].position.set(),this.points[9].position.set(),-1!=e&&(this.points[e].position=t)}else this.setVisiblePoints(!1)}},{key:"setObjects",value:function(e){var t=this;this.objects=e;for(var n=function(n){e[n].removeAllListeners(),e[n].addListener("mousedown",(function(){t.targetMouseDown(n)})),e[n].addListener("mouseover",(function(){t.mouseOver(e[n])})),e[n].addListener("mouseout",(function(){t.mouseOut(e[n])})),e[n].interactive=!0},a=0;a<e.length;a++)n(a);this.state=l.none,0!=e.length?this.setTarget(this.targetIndex=e.length-1):this.removeTarget()}},{key:"setTarget",value:function(e){this.targetIndex=e,this.selectedTargetChanged(this.targetIndex)}},{key:"removeTarget",value:function(){this.targetIndex=void 0,this.selectedTargetChanged(void 0)}},{key:"mouseOver",value:function(e){this.state!=l.moving&&(e.alpha=.7)}},{key:"mouseOut",value:function(e){this.state!=l.moving&&(e.alpha=1)}},{key:"mouseDown",value:function(){console.log("asdasd"),this.removeTarget()}},{key:"pointMouseOver",value:function(e){console.log(e),this.points[e].alpha=.7}},{key:"pointMouseOut",value:function(e){this.points[e].alpha=1}},{key:"pointMouseDown",value:function(e){console.log(e),e<=7&&(this.transX=!1,this.transY=!1,3==e||4==e?this.transX=!0:(1==e||6==e||(this.transX=!0),this.transY=!0),this.reposX=!1,this.reposY=!1,0!=e&&3!=e&&5!=e||(this.reposX=!0),0!=e&&1!=e&&2!=e||(this.reposY=!0),this.currentPoint=e,this.oppositePoint=7-e,this.state=l.resizing)}},{key:"targetMouseDown",value:function(e){this.setTarget(e),this.state=l.moving}},{key:"mouseUp",value:function(){if(void 0!=this.targetIndex){if(this.state==l.moving){var e=this.targetIndex;this.transformChanged(e,this.objects[e].transform)}if(this.state==l.resizing){this.currentPoint=-1,this.oppositePoint=-1;var t=this.targetIndex;this.transformChanged(t,this.objects[t].transform),console.log(this.objects[t].transform.scale.x)}this.state=l.none}}},{key:"mouseMove",value:function(e,t){var n=e-this.prevMouseX,a=t-this.prevMouseY;if(this.prevMouseX=e,this.prevMouseY=t,void 0!=this.targetIndex){var i=this.objects[this.targetIndex];if(this.state==l.moving&&(i.transform.position.x+=n,i.transform.position.y+=a,this.selectedTargetMoving(i.transform.position.x,i.transform.position.y)),this.state==l.resizing){var o=this.points[this.currentPoint],s=this.points[this.oppositePoint];if(this.reposX&&(i.x=e),this.reposY&&(i.y=t),this.transX){o.x=e;var r=(this.reposX?1:-1)*(s.x-o.x);i.scale.x=r/i.getLocalBounds().width}if(this.transY){o.y=t;var c=(this.reposY?1:-1)*(s.y-o.y);i.scale.y=c/i.getLocalBounds().height}}this.updatePoints(this.currentPoint)}}}]),e}();!function(e){e[e.none=0]="none",e[e.moving=1]="moving",e[e.resizing=2]="resizing",e[e.rotating=3]="rotating"}(l||(l={}));var T=function(e){var t=Object(a.useRef)(null),n=function(e,t){c&&r.stage.removeChild(c),(c=new y.b).interactiveChildren=!0,c.interactive=!0,r.stage.addChild(c),(d=e.getFrame(t)).rebatchAll(),p=d.getObjects(),m=[];for(var n=0;n<p.length;n++){var a=p[n],i=void 0;i=a instanceof g.a?a.makeContainer(1):a.sprite,c.addChild(i),m.push(i)}u.setObjects(m)};return Object(a.useEffect)((function(){return r=new y.a({width:e.width,height:e.height,backgroundColor:16777215}),t.current&&t.current.appendChild(r.view),u=new C(r,{color:52377,radius:10,thickness:3}),r.stage.interactive=!0,r.stage.interactiveChildren=!0,r.stage.hitArea=new y.e(0,0,r.renderer.width/r.renderer.resolution,r.renderer.height/r.renderer.resolution),u.transformChanged=function(e,t){var n=p[e].getTransform();n.x=t.position.x,n.y=t.position.y,n.scaleX=t.scale.x,n.scaleY=t.scale.y,p[e].setTransform(n,!0),d.updateBatchToCurrentState()},u.selectedTargetChanged=e.selectedTargetChanged,u.selectedTargetMoving=e.selectedTargetMoving,e.resetFunc(n),function(){}}),[]),i.a.createElement("div",{className:e.className,ref:function(e){t.current=e}})},w=n(74),x=n(25),S=n(146),j=n(132),F=n(3);F.Blocks.setpos={init:function(){this.appendValueInput("object").setCheck("object").appendField("\ubb34\ube44\ud074\ub9bd"),this.appendValueInput("X").setCheck("Number").appendField("\uc758 \uc704\uce58\ub97c").appendField("X:"),this.appendValueInput("Y").setCheck("Number").appendField("Y:"),this.appendDummyInput().appendField("\ub85c \uc124\uc815"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip("\uc88c\ud45c \uc124\uc815"),this.setHelpUrl("")}},F.Blocks.getobject={init:function(){this.appendValueInput("objectName").setCheck("String").appendField("\uc624\ube0c\uc81d\ud2b8 :"),this.setOutput(!0,"object"),this.setColour(230),this.setTooltip("\uc624\ube0c\uc81d\ud2b8\ub97c \uc774\ub984\uc73c\ub85c \ucc3e\uc2b5\ub2c8\ub2e4."),this.setHelpUrl("")}},F.Blocks.getpos={init:function(){this.appendValueInput("object").setCheck("object").appendField("\ub2e4\uc74c \uc624\ube0c\uc81d\ud2b8\uc758 ").appendField(new F.FieldDropdown([["x","x"],["y","y"]]),"type").appendField("\uc88c\ud45c"),this.setOutput(!0,"Number"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.gametick={init:function(){this.appendStatementInput("blocks").setCheck(null).appendField("\uac8c\uc784 \ud2f1"),this.setColour(255),this.setTooltip("\uac8c\uc784 \ud2f1\ub9c8\ub2e4 \ub0b4\uc6a9\uc744 \ubc18\ubcf5\ud569\ub2c8\ub2e4."),this.setHelpUrl("")}},F.Blocks.getmousestate={init:function(){this.appendDummyInput().appendField("\ub9c8\uc6b0\uc2a4\uac00").appendField(new F.FieldDropdown([["\ub204\ub978\uc0c1\ud0dc","isDown"],["\ub5c0\uc0c1\ud0dc","isUp"]]),"stateType").appendField("\uc778\uac00?"),this.setOutput(!0,"Boolean"),this.setColour(230),this.setTooltip("\ub9c8\uc6b0\uc2a4\uac00 \ub20c\ub9b0 \uc0c1\ud0dc\uc778\uc9c0 \ub5c0 \uc0c1\ud0dc\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4."),this.setHelpUrl("")}},F.Blocks.getmouseevent={init:function(){this.appendDummyInput().appendField("\ub9c8\uc6b0\uc2a4\ub97c ").appendField(new F.FieldDropdown([["\ub204\ub978","isDown"],["\ub5c0","isUp"],["\ud074\ub9ad\ud55c","isClick"]]),"eventType").appendField("\uc21c\uac04\uc778\uac00?"),this.setOutput(!0,"Boolean"),this.setColour(230),this.setTooltip("\ub9c8\uc6b0\uc2a4\uac00 \uc774\ubca4\ud2b8\ub2f9  \ud55c\ubc88\ub9cc True\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4."),this.setHelpUrl("")}},F.Blocks.getkeyboardstate={init:function(){this.appendValueInput("keycode").setCheck("Number").appendField("\ub2e4\uc74c \ud0a4\uac00 ").appendField(new F.FieldDropdown([["\ub20c\ub9b0","isDown"],["\ub5c0","isUp"]]),"statetype").appendField("\uc0c1\ud0dc\uc778\uac00?"),this.setOutput(!0,"Boolean"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.getkeyboardevent={init:function(){this.appendValueInput("keycode").setCheck("Number").appendField("\ub2e4\uc74c \ud0a4\ub97c ").appendField(new F.FieldDropdown([["\ub204\ub978","isDown"],["\ub5c0","isUp"]]),"eventType").appendField("\uc21c\uac04\uc778\uac00?"),this.setOutput(!0,"Boolean"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.addphysics={init:function(){this.appendValueInput("object").setCheck("object").appendField("\ub2e4\uc74c \uc624\ube0c\uc81d\ud2b8\uc5d0 \ubb3c\ub9ac\uc5d4\uc9c4 \ucd94\uac00"),this.appendValueInput("friction").setCheck("Number").appendField("\ub9c8\ucc30"),this.appendValueInput("mass").setCheck("Number").appendField("\uc9c8\ub7c9"),this.appendDummyInput().appendField("\uace0\uc815\ub41c \ubb3c\uccb4\uc778\uac00? ").appendField(new F.FieldCheckbox("FALSE"),"isstatic"),this.appendDummyInput().appendField("\uac01\ub3c4 \uace0\uc815").appendField(new F.FieldCheckbox("FALSE"),"norotation"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip("\ubb3c\ub9ac\uc138\uacc4\uc5d0 \ub358\uc9c4\ub2e4!"),this.setHelpUrl("")}},F.Blocks.addforce={init:function(){this.appendValueInput("object").setCheck("object").appendField("\ub2e4\uc74c \uc624\ube0c\uc81d\ud2b8\uc5d0"),this.appendValueInput("X").setCheck("Number").appendField("X:"),this.appendValueInput("Y").setCheck("Number").appendField("Y:"),this.appendDummyInput().appendField("\ub9cc\ud07c \ud798\uc8fc\uae30"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.setvelocity={init:function(){this.appendValueInput("object").setCheck("object").appendField("\ub2e4\uc74c \uc624\ube0c\uc81d\ud2b8\uc758 \uc18d\ub3c4\ub97c"),this.appendValueInput("X").setCheck("Number").appendField("X:"),this.appendValueInput("Y").setCheck("Number").appendField("Y:"),this.appendDummyInput().appendField("\ub85c \uc815\ud558\uae30"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.getvelocity={init:function(){this.appendValueInput("object").setCheck("object").appendField("\ub2e4\uc74c \uc624\ube0c\uc81d\ud2b8\uc758 \uc18d\ub3c4").appendField(new F.FieldDropdown([["x","x"],["y","y"]]),"type").appendField("\uad6c\ud558\uae30"),this.setOutput(!0,"Number"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.checkcollision={init:function(){this.appendValueInput("a").setCheck(null).appendField("\uc624\ube0c\uc81d\ud2b8"),this.appendValueInput("b").setCheck(null).appendField("\uc624\ube0c\uc81d\ud2b8"),this.appendDummyInput().appendField("\uc0ac\uc774\uc758 \ucda9\ub3cc \ud655\uc778"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.mouseevent={init:function(){this.appendValueInput("object").setCheck("object"),this.appendStatementInput("blocks").setCheck(null).appendField(new F.FieldDropdown([["\ub20c\ub9bc","mousedown"],["\ub5cc","mouseup"],["\uc6c0\uc9c1\uc784","mousemove"],["\uc62c\ub9bc","mouseover"],["\ud074\ub9ad","mouseclick"]]),"type").appendField("\uc774\ubca4\ud2b8"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.gamestart={init:function(){this.appendStatementInput("blocks").setCheck(null).appendField("\uc2dc\uc791"),this.setColour(50),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.setrotation={init:function(){this.appendValueInput("object").setCheck("object").appendField("\uc624\ube0c\uc81d\ud2b8"),this.appendValueInput("NAME").setCheck("Number").appendField("\uc758 \uac01\ub3c4\ub97c"),this.appendDummyInput().appendField("\ub85c \uc124\uc815"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.currentobject={init:function(){this.appendDummyInput().appendField("\uc774 \uc624\ube0c\uc81d\ud2b8"),this.setOutput(!0,"object"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.checkdrawing={init:function(){this.appendValueInput("isDrawing").setCheck("object").appendField("\ub2e4\uc74c \uc624\ube0c\uc81d\ud2b8\uac00 \uadf8\ub824\uc9c0\ub294 \uc911\uc778\uac00?"),this.setOutput(!0,"Boolean"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.getcurrentframe={init:function(){this.appendValueInput("currentframe").setCheck("object").appendField("\ub2e4\uc74c \uc624\ube0c\uc81d\ud2b8\uc758 \ud604\uc7ac \ud504\ub808\uc784"),this.setOutput(!0,"Number"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.gotoandplay={init:function(){this.appendValueInput("obj").setCheck("object").appendField("\uc624\ube0c\uc81d\ud2b8"),this.appendValueInput("frame").setCheck("Number").appendField("\ud504\ub808\uc784"),this.appendDummyInput().appendField("\uc73c\ub85c \uc774\ub3d9\ud55c\ub4a4 \uc7ac\uc0dd"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.gotoandstop={init:function(){this.appendValueInput("obj").setCheck("object").appendField("\uc624\ube0c\uc81d\ud2b8"),this.appendValueInput("frame").setCheck("Number").appendField("\ud504\ub808\uc784"),this.appendDummyInput().appendField("\uc73c\ub85c \uc774\ub3d9\ud55c\ub4a4 \uba48\ucda4"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.stop={init:function(){this.appendValueInput("obj").setCheck("object").appendField("\uc624\ube0c\uc81d\ud2b8"),this.appendDummyInput().appendField("\ud504\ub808\uc784 \uba48\ucda4"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},F.Blocks.play={init:function(){this.appendValueInput("obj").setCheck("object").appendField("\uc624\ube0c\uc81d\ud2b8"),this.appendDummyInput().appendField("\ud504\ub808\uc784 \uc7ac\uc0dd"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}};n(12);F.JavaScript.gamestart=function(e){var t=F.JavaScript.statementToCode(e,"blocks");return'blockFunctions["gameStart"](game, ()=>{\n        '.concat(t,"\n    });\n")},F.JavaScript.addforce=function(e){var t=F.JavaScript.valueToCode(e,"object",F.JavaScript.ORDER_ATOMIC),n=F.JavaScript.valueToCode(e,"X",F.JavaScript.ORDER_ATOMIC),a=F.JavaScript.valueToCode(e,"Y",F.JavaScript.ORDER_ATOMIC);return'blockFunctions["addForce"](game, '.concat(t,", ").concat(n,", ").concat(a,");\n")},F.JavaScript.addphysics=function(e){var t=F.JavaScript.valueToCode(e,"object",F.JavaScript.ORDER_ATOMIC),n=F.JavaScript.valueToCode(e,"friction",F.JavaScript.ORDER_ATOMIC),a=F.JavaScript.valueToCode(e,"mass",F.JavaScript.ORDER_ATOMIC),i="TRUE"==e.getFieldValue("isstatic"),o="TRUE"==e.getFieldValue("norotation");return'blockFunctions["addPhysics"](game, '.concat(t,", ").concat(n,", ").concat(a,", ").concat(i,", ").concat(o,");\n")},F.JavaScript.checkcollision=function(e){var t=F.JavaScript.valueToCode(e,"a",F.JavaScript.ORDER_ATOMIC),n=F.JavaScript.valueToCode(e,"b",F.JavaScript.ORDER_ATOMIC);return['blockFunctions["checkCollision"](game, '.concat(t,", ").concat(n,")"),F.JavaScript.ORDER_NONE]},F.JavaScript.gametick=function(e){var t=F.JavaScript.statementToCode(e,"blocks");return'blockFunctions["gameTick"](game, ()=>{\n      '.concat(t,"\n  });\n")},F.JavaScript.getkeyboardevent=function(e){var t=e.getFieldValue("eventType"),n=F.JavaScript.valueToCode(e,"keycode",F.JavaScript.ORDER_ATOMIC);return['blockFunctions["getKeyboardEvent"](game, "'.concat(t,'", ').concat(n,")"),F.JavaScript.ORDER_NONE]},F.JavaScript.getkeyboardstate=function(e){var t=e.getFieldValue("statetype"),n=F.JavaScript.valueToCode(e,"keycode",F.JavaScript.ORDER_ATOMIC);return['blockFunctions["getKeyboardState"](game, "'.concat(t,'", ').concat(n,")"),F.JavaScript.ORDER_NONE]},F.JavaScript.getmouseevent=function(e){var t=e.getFieldValue("eventType");return['blockFunctions["getMouseEvent"](game, "'.concat(t,'")'),F.JavaScript.ORDER_NONE]},F.JavaScript.getmousestate=function(e){var t=e.getFieldValue("stateType");return['blockFunctions["getMouseState"](game, "'.concat(t,'")'),F.JavaScript.ORDER_NONE]},F.JavaScript.getobject=function(e){var t=F.JavaScript.valueToCode(e,"objectName",F.JavaScript.ORDER_ATOMIC);return['blockFunctions["getObject"](game, '.concat(t,")"),F.JavaScript.ORDER_NONE]},F.JavaScript.getpos=function(e){var t=e.getFieldValue("type"),n=F.JavaScript.valueToCode(e,"object",F.JavaScript.ORDER_ATOMIC);return['blockFunctions["getPos"](game, "'.concat(t,'", ').concat(n,")"),F.JavaScript.ORDER_NONE]},F.JavaScript.getvelocity=function(e){var t=e.getFieldValue("type"),n=F.JavaScript.valueToCode(e,"object",F.JavaScript.ORDER_ATOMIC);return['blockFunctions["getVelocity"](game, "'.concat(t,'", ').concat(n,")"),F.JavaScript.ORDER_NONE]},F.JavaScript.mouseevent=function(e){var t=F.JavaScript.valueToCode(e,"object",F.JavaScript.ORDER_ATOMIC),n=e.getFieldValue("type"),a=F.JavaScript.statementToCode(e,"blocks");return'blockFunctions["mouseEvent"](game, '.concat(t,', "').concat(n,'",()=>{\n    ').concat(a,"\n  })\n")},F.JavaScript.setpos=function(e){var t=F.JavaScript.valueToCode(e,"object",F.JavaScript.ORDER_ATOMIC),n=F.JavaScript.valueToCode(e,"X",F.JavaScript.ORDER_ATOMIC),a=F.JavaScript.valueToCode(e,"Y",F.JavaScript.ORDER_ATOMIC);return'blockFunctions["setPos"](game, '.concat(t,", ").concat(n,", ").concat(a,")\n")},F.JavaScript.setvelocity=function(e){var t=F.JavaScript.valueToCode(e,"object",F.JavaScript.ORDER_ATOMIC),n=F.JavaScript.valueToCode(e,"X",F.JavaScript.ORDER_ATOMIC),a=F.JavaScript.valueToCode(e,"Y",F.JavaScript.ORDER_ATOMIC);return'blockFunctions["setVelocity"](game, '.concat(t,", ").concat(n,", ").concat(a,")\n")},F.JavaScript.setrotation=function(e){var t=F.JavaScript.valueToCode(e,"object",F.JavaScript.ORDER_ATOMIC),n=F.JavaScript.valueToCode(e,"NAME",F.JavaScript.ORDER_ATOMIC);return'blockFunctions["setRotation"](game, '.concat(t,", ").concat(n,")\n")},F.JavaScript.currentobject=function(e){return["{CURRENTOBJECT}",F.JavaScript.ORDER_NONE]},F.JavaScript.getcurrentframe=function(e){var t=F.JavaScript.valueToCode(e,"currentframe",F.JavaScript.ORDER_ATOMIC);return['blockFunctions["getCurrentFrame"](game, '.concat(t,")"),F.JavaScript.ORDER_NONE]},F.JavaScript.play=function(e){var t=F.JavaScript.valueToCode(e,"obj",F.JavaScript.ORDER_ATOMIC);return'blockFunctions["play"](game, '.concat(t,")\n")},F.JavaScript.stop=function(e){var t=F.JavaScript.valueToCode(e,"obj",F.JavaScript.ORDER_ATOMIC);return'blockFunctions["stop"](game, '.concat(t,")\n")},F.JavaScript.checkdrawing=function(e){var t=F.JavaScript.valueToCode(e,"isDrawing",F.JavaScript.ORDER_ATOMIC);return['blockFunctions["stop"](game, '.concat(t,")"),F.JavaScript.ORDER_NONE]},F.JavaScript.gotoandplay=function(e){var t=F.JavaScript.valueToCode(e,"obj",F.JavaScript.ORDER_ATOMIC),n=F.JavaScript.valueToCode(e,"frame",F.JavaScript.ORDER_ATOMIC);return'blockFunctions["gotoAndPlay"](game, '.concat(t,", ").concat(n,")\n")},F.JavaScript.gotoandstop=function(e){var t=F.JavaScript.valueToCode(e,"obj",F.JavaScript.ORDER_ATOMIC),n=F.JavaScript.valueToCode(e,"frame",F.JavaScript.ORDER_ATOMIC);return'blockFunctions["gotoAndStop"](game, '.concat(t,", ").concat(n,")\n")};var M=n(67),D=n(917),R=n(923),N=n(914),I=n(104),U=n(915),A=n(141),P=n.n(A),J=n(144),B=n.n(J),L=n(142),X=n.n(L),V=n(143),z=n.n(V),H=n(139),Y=n.n(H),W=n(140),K=n.n(W),G=n(147),q=n(927),Z=n(922),Q=n(929),$=n(910),ee=n(928),te=n(916);var ne,ae=n(134),ie=n.n(ae),oe=n(75),se=n(39),le=n(22),re=n(21),ce=(n(129),function(e){Object(le.a)(n,e);var t=Object(re.a)(n);function n(e){return Object(_.a)(this,n),t.call(this,e)}return Object(E.a)(n,[{key:"handleMouseDown",value:function(e){this.props.updateStateResizing(!0)}},{key:"render",value:function(){return i.a.createElement("div",{className:"flexible-modal-resizer",style:{width:16,height:16},onMouseDown:this.handleMouseDown.bind(this)})}}]),n}(i.a.Component)),ue=n(137),de=n(925),pe=function(e){Object(le.a)(n,e);var t=Object(re.a)(n);function n(){return Object(_.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.isDragging,o=t.width,s=t.height,l=t.top,r=t.left,c=t.isOpen,u=t.isMinimised,d=t.onRequestRecover,p=t.className,m=t.onFocus;return c?i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{in:!u,timeout:300,classNames:"minimise",unmountOnExit:!0},i.a.createElement("div",{onClick:m,ref:function(t){e.node=t},draggable:n,className:p?"flexible-modal "+p:"flexible-modal",style:{width:o,height:s,top:l,left:r}},this.props.children)),u&&i.a.createElement("button",{className:"flexible-modal-rebound-btn",onClick:d},i.a.createElement(ue.FaBars,null))):null}}]),n}(a.Component),me=function(e){Object(le.a)(n,e);var t=Object(re.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).state={isDragging:!1,isResizing:!1,top:void 0!==a.props.top?a.props.top:a.props.initHeight?window.innerHeight/2-a.props.initHeight/2-50:window.innerHeight/2-200-50,left:void 0!==a.props.left?a.props.left:a.props.initWidth?window.innerWidth/2-a.props.initWidth/2-21:window.innerWidth/2-400-21,width:a.props.initWidth?a.props.initWidth:800,height:a.props.initHeight?a.props.initHeight:400,rel:null},a.updateStateResizing=a.updateStateResizing.bind(Object(se.a)(a)),a.funcResizing=a.funcResizing.bind(Object(se.a)(a)),a.resize=a.resize.bind(Object(se.a)(a)),a.onMouseMove=a.onMouseMove.bind(Object(se.a)(a)),a.onMouseUp=a.onMouseUp.bind(Object(se.a)(a)),a.onMouseDown=a.onMouseDown.bind(Object(se.a)(a)),a.pressKey=a.pressKey.bind(Object(se.a)(a)),a.updateStateDragging=a.updateStateDragging.bind(Object(se.a)(a)),a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.disableKeystroke;document.addEventListener("mouseup",this.onMouseUp),e||document.addEventListener("keydown",this.pressKey)}},{key:"componentWillUnmount",value:function(){var e=this.props.disableKeystroke;document.removeEventListener&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),e||document.removeEventListener("keydown",this.pressKey))}},{key:"onMouseDown",value:function(e){if(document.addEventListener("mousemove",this.onMouseMove),0===e.button){var t=s.a.findDOMNode(this.node_modal);this.setState({isDragging:!0,rel:{x:e.pageX-t.offsetLeft,y:e.pageY-t.offsetTop}}),e.stopPropagation(),e.preventDefault()}}},{key:"onMouseUp",value:function(e){document.removeEventListener("mousemove",this.onMouseMove),this.setState({isDragging:!1}),this.setState({isResizing:!1}),e.stopPropagation()}},{key:"onMouseMove",value:function(e){this.props.resizing();var t=this.props,n=t.disableMove,a=t.disableVerticalMove,i=t.disableHorizontalMove;if(this.state.isDragging)n||a&&i||(!a&&i?this.setState({top:e.pageY-this.state.rel.y}):a&&!i?this.setState({left:e.pageX-this.state.rel.x}):a||i||this.setState({left:e.pageX-this.state.rel.x,top:e.pageY-this.state.rel.y}));else{if(!this.state.isResizing)return;this.funcResizing(e.clientX,e.clientY)}e.stopPropagation(),e.preventDefault()}},{key:"updateStateResizing",value:function(e){document.addEventListener("mousemove",this.onMouseMove),this.setState({isResizing:e})}},{key:"funcResizing",value:function(e,t){this.props.resizing();var n=this.props,a=n.minWidth,i=n.minHeight,o=n.disableVerticalResize,l=n.disableHorizontalResize,r=s.a.findDOMNode(this.node_modal),c=a||200,u=i||100;!l&&e>r.offsetLeft+c&&this.setState({width:e-r.offsetLeft+8}),!o&&t>r.offsetTop+u&&this.setState({height:t-r.offsetTop+8})}},{key:"updateStateDragging",value:function(e){this.setState({isDragging:e}),this.props.resizing()}},{key:"pressKey",value:function(e){var t=this.props;t.onRequestClose,t.disableResize,t.disableMove,t.disableVerticalMove,t.disableHorizontalMove}},{key:"resize",value:function(e,t){this.props.resizing(),this.setState((function(n){return{width:e||n.width,height:t||n.height}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isOpen,a=t.isMinimised,o=t.onRequestClose,s=t.onRequestMinimise,l=t.onRequestRecover,r=t.disableResize,c=t.className,u=t.onFocus;return i.a.createElement("div",null,n&&!a&&i.a.createElement("div",{onClick:s||o,className:"flexible-modal-mask"}),i.a.createElement(pe,{className:c,onFocus:u,width:this.state.width,height:this.state.height,top:this.state.top,left:this.state.left,isDragging:this.state.isDragging,onRequestRecover:l,isMinimised:a,isOpen:n,updateStateDragging:this.updateStateDragging,transitionName:"modal-anim",ref:function(t){e.node_modal=t}},this.props.children,i.a.createElement("div",{onMouseDown:this.onMouseDown,className:"flexible-modal-drag-area",style:{width:this.state.width},ref:function(t){e.dragArea=t}},i.a.createElement("div",null,"Block Script")),!r&&i.a.createElement(ce,{updateStateResizing:this.updateStateResizing})))}}]),n}(a.Component),he=n(926),fe=n(920),ve=n(919),be=n(921),ke=n(918),ye=n(138),ge=n(85),_e=n.n(ge),Ee=function(e){return i.a.createElement("div",{className:e.selected?_e.a.sFrame:_e.a.usFrame,onClick:e.click})},Oe=function(e){for(var t=[],n=function(n){t.push(i.a.createElement(Ee,{selected:e.currentFrame==n,click:function(){e.frameChanged(n)}}))},a=1;a<=e.maxFrame;a++)n(a);return i.a.createElement("div",null,i.a.createElement("div",{className:_e.a.bar},t),i.a.createElement("button",{onClick:function(){e.frameAdd(e.currentFrame+1)}},"+"),i.a.createElement("button",{onClick:function(){e.frameRemove(e.currentFrame)}},"-"))},Ce=Object($.a)((function(e){return Object(ee.a)({root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},menuButton:{marginRight:e.spacing(2)},editProjectNameButton:{marginRight:e.spacing(2)},title:{marginRight:e.spacing(3)},shareButton:{marginLeft:"auto"},runButton:{position:"absolute",transform:"translate(calc(50vw - 100%), 0)",transformOrigin:"-50% 0"},Button:{width:"100%",height:"100%"},link:{color:"white",fontSize:"15px"}})})),Te=new g.a("root"),we=new M.a,xe=void 0,Se=function(){},je=Te,Fe=[{name:"root",xml:'<xml xmlns="https://developers.google.com/blockly/xml"></xml>'}],Me=!1,De=void 0,Re=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(""),l=Object(v.a)(s,2),r=l[0],c=l[1],u=Object(a.useState)(!1),d=Object(v.a)(u,2),p=d[0],m=d[1],h=Object(a.useState)(),f=Object(v.a)(h,2),b=f[0],y=f[1],_=Object(a.useRef)(),E=Object(a.useRef)(),O=Ce(),C=function(e,t){var n=new w.a(e,new x.a(0,0),we,t);je.addObject(n,[tt.current],[new x.a(0,0)]),Se(je,tt.current),Fe.push({name:e,xml:'<xml xmlns="https://developers.google.com/blockly/xml"></xml>'})},A=function(e){tt.current=1,nt({frame:1,max:e.getFrameCount()}),Se(je=e,1),pt()},J=function(e){if("root"==e)return console.log(e),Fe[0].xml;for(var t=1;t<Fe.length;t++){var n=Fe[t];if(n.name==e)return n.xml}return'<xml xmlns="https://developers.google.com/blockly/xml"></xml>'},L=function(e){var t=F.Xml.workspaceToDom(ne),n=F.Xml.domToText(t);Fe.forEach((function(t,a){t.name==e&&(Fe[a].xml=n)}))},V=function(e){try{ne.clear();var t=F.Xml.textToDom(e);F.Xml.domToWorkspace(t,ne)}catch(n){console.log("\uc624\ub958\ub0a8\n"+e)}},H=function(e){if(L(void 0==De?"root":De.name),xe=e,void 0==e)return y(void 0),De=void 0,c(""),m(!1),void V(J("root"));var t=je.getFrame(tt.current).getObjects()[e];if(t){console.log(J(t.name)),console.log(Fe),V(J(t.name));var n=t.getTransform();y(t),De=t,et(n.x,n.y),c(t.name),m(t instanceof g.a)}},W=i.a.useState(null),$=Object(v.a)(W,2),ee=$[0],ae=$[1],se=function(){ae(null)},le=Object(a.useState)(""),re=Object(v.a)(le,2),ce=re[0],ue=re[1],de=Object(a.useState)("New Project"),pe=Object(v.a)(de,2),ge=pe[0],_e=pe[1],Ee=Object(a.useState)(!1),Re=Object(v.a)(Ee,2),Ne=Re[0],Ie=Re[1],Ue=function(e){e&&""!=ce?_e(ce):ue(ge),Ie(!1)},Ae=Object(a.useState)("new_movieclip"),Pe=Object(v.a)(Ae,2),Je=Pe[0],Be=Pe[1],Le=Object(a.useState)(!1),Xe=Object(v.a)(Le,2),Ve=Xe[0],ze=Xe[1],He=function(e){if(void 0!=b){if(e&&""!=Je){je.getFrame(tt.current).removeObject(b);var t=b.getTransform(),n=new g.a(Je,new x.a(t.x,t.y));t.x=0,t.y=0,n.addObject(b,[1],[t]),je.addObject(n,[1],[n.getTransform()]),Se(je,tt.current)}ze(!1)}},Ye=Object(a.useState)(!1),We=Object(v.a)(Ye,2),Ke=We[0],Ge=We[1],qe=function(){Ge(!1)},Ze=function(){o(Qe())},Qe=function(){var e=we.exportJson(),t="";L(void 0==b?"root":b.name);for(var n=0;n<Fe.length;n++){ne.clear();var a=F.Xml.textToDom(Fe[n].xml);F.Xml.domToWorkspace(a,ne);var i=F.JavaScript.workspaceToCode(ne).replaceAll("{CURRENTOBJECT}",'blockFunctions["getObject"](game, "'.concat(Fe[n].name,'")'));console.log(i),t+=i}V(J(void 0==b?"root":b.name));var o=Te.exportJson();return console.log(o),JSON.stringify({resource:e,code:t,objects:o})},$e=function(){null!=ne&&F.svgResize(ne)},et=function(e,t){_.current&&E.current&&(b||(_.current.textContent="X: -",E.current.textContent="Y: -"),_.current.textContent="X: "+e.toFixed(3),E.current.textContent="Y: "+t.toFixed(3))},tt=Object(a.useRef)(1),nt=function(e){st(e),tt.current=e.frame},at=Object(a.useState)({frame:1,max:1}),it=Object(v.a)(at,2),ot=it[0],st=it[1],lt=function(e){nt({frame:e,max:je.getFrameCount()}),Se(je,e),je.getFrame(e).getObjects().length>0?H(1):H(void 0),console.log(je.getFrame(e))},rt=Object(a.useState)([Te]),ct=Object(v.a)(rt,2),ut=ct[0],dt=ct[1],pt=function(){for(var e=je,t=[],n=0;n<3&&(t.push(e),e!=Te);n++){var a=e.getParent();a&&(e=a)}dt(t.reverse())};return window.addEventListener("mousemove",$e),i.a.createElement("div",{className:k.a.App},i.a.createElement("input",{onChange:function(e){var t=e.target.files[0];if(t){De=new g.a("");var n=new FileReader;n.onload=function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.result;if(n){var a=JSON.parse(n.toString());(we=new M.a).importJson(a.resource,(function(){Te=g.a.importJson(a.objects,we),ne.clear(),Fe=JSON.parse(a.xml),console.log(Fe),A(Te)}))}},n.readAsText(t)}},accept:"*",className:O.input,id:"contained-button-file2",type:"file"}),i.a.createElement(G.a,{id:"simple-menu",anchorEl:ee,keepMounted:!0,open:Boolean(ee),onClose:se},i.a.createElement(Q.a,{onClick:function(){var e=we.exportJson(),t=JSON.stringify(Fe),n=Te.exportJson();ie()(JSON.stringify({resource:e,xml:t,objects:n}),ge+".mandunda")}}," Save Project\u3000",i.a.createElement(Y.a,null)),i.a.createElement("label",{htmlFor:"contained-button-file2"},i.a.createElement(Q.a,{onClick:se},"Load Project\u3000",i.a.createElement(K.a,null)))),i.a.createElement(N.a,{position:"static",className:k.a.AppBar},i.a.createElement(U.a,null,i.a.createElement(te.a,{onClick:function(e){ae(e.currentTarget)},edge:"start",className:O.menuButton,color:"inherit","aria-label":"menu"},i.a.createElement(P.a,null)),i.a.createElement(I.a,{variant:"h6",className:O.title},"\ub9cc\ub4e0\ub2e4 - ",ge),i.a.createElement(te.a,{onClick:function(e){Ie(!0)},edge:"start",className:O.editProjectNameButton,color:"inherit"},i.a.createElement(X.a,null)),i.a.createElement(te.a,{onClick:function(e){Ze(),Ge(!0)},edge:"start",className:O.runButton,color:"inherit"},i.a.createElement(z.a,{style:{fontSize:35}})),i.a.createElement(ye.CopyToClipboard,{text:"http://mandunda.com/#/player/"+ge.replace(" ","_")},i.a.createElement(D.a,{onClick:function(){fetch("http://220.121.52.155:5353/"+ge.replace(" ","_"),{method:"POST",headers:{"Content-Type":"application/json"},body:Qe()}).then((function(e){alert("\uc5c5\ub85c\ub4dc \uc644\ub8cc! \uc8fc\uc18c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")}))},startIcon:i.a.createElement(B.a,null),className:O.shareButton,color:"inherit"},"Upload")))),i.a.createElement(he.a,{maxWidth:!1,disableEscapeKeyDown:!0,disableBackdropClick:!0,open:Ke,onClose:qe,"aria-labelledby":"form-dialog-title"},i.a.createElement(ke.a,{id:"form-dialog-title"},"\uac8c\uc784 \ud654\uba74"),i.a.createElement(ve.a,null,i.a.createElement(oe.a,{width:800,height:500,gameJson:n})),i.a.createElement(fe.a,null,i.a.createElement(D.a,{onClick:qe,color:"primary"},"\ub2eb\uae30"))),i.a.createElement(he.a,{disableEscapeKeyDown:!0,open:Ne,onClose:function(){Ue(!1)},"aria-labelledby":"form-dialog-title"},i.a.createElement(ke.a,{id:"form-dialog-title"},"\ud504\ub85c\uc81d\ud2b8 \uc774\ub984"),i.a.createElement(ve.a,null,i.a.createElement(be.a,null,"\uc0c8\ub85c\uc6b4 \ud504\ub85c\uc81d\ud2b8 \uc774\ub984\uc744 \uc124\uc815\ud574\uc8fc\uc138\uc694."),i.a.createElement(R.a,{autoFocus:!0,margin:"dense",id:"name",label:"\ud504\ub85c\uc81d\ud2b8 \uc774\ub984",defaultValue:ge,fullWidth:!0,onChange:function(e){ue(e.target.value)}})),i.a.createElement(fe.a,null,i.a.createElement(D.a,{onClick:function(){Ue(!1)},color:"secondary"},"\ucde8\uc18c"),i.a.createElement(D.a,{onClick:function(){Ue(!0)},color:"primary"},"\uc124\uc815"))),i.a.createElement(he.a,{open:Ve,onClose:function(){He(!1)},"aria-labelledby":"form-dialog-title"},i.a.createElement(ke.a,{id:"form-dialog-title"},"\ubb34\ube44\ud074\ub9bd \uc774\ub984"),i.a.createElement(ve.a,null,i.a.createElement(be.a,null,"\ubb34\ube44\ud074\ub9bd \uc774\ub984\uc744 \uc124\uc815\ud574\uc8fc\uc138\uc694."),i.a.createElement(R.a,{autoFocus:!0,margin:"dense",id:"name",label:"\ubb34\ube44\ud074\ub9bd \uc774\ub984",defaultValue:"new_movieclip",fullWidth:!0,onChange:function(e){ue(e.target.value)}})),i.a.createElement(fe.a,null,i.a.createElement(D.a,{onClick:function(){He(!1)},color:"secondary"},"\ucde8\uc18c"),i.a.createElement(D.a,{onClick:function(){He(!0)},color:"primary"},"\uc124\uc815"))),i.a.createElement(he.a,{disableEscapeKeyDown:!0,open:Ve,onClose:function(){He(!1)},"aria-labelledby":"form-dialog-title"},i.a.createElement(ke.a,{id:"form-dialog-title"},"\ubb34\ube44\ud074\ub9bd \uc774\ub984"),i.a.createElement(ve.a,null,i.a.createElement(be.a,null,"\ubb34\ube44\ud074\ub9bd \uc774\ub984\uc744 \uc124\uc815\ud574\uc8fc\uc138\uc694."),i.a.createElement(R.a,{autoFocus:!0,margin:"dense",id:"name",label:"\ubb34\ube44\ud074\ub9bd \uc774\ub984",defaultValue:"new_movieclip",fullWidth:!0,onChange:function(e){ue(e.target.value)}})),i.a.createElement(fe.a,null,i.a.createElement(D.a,{onClick:function(){He(!1)},color:"secondary"},"\ucde8\uc18c"),i.a.createElement(D.a,{onClick:function(){He(!0)},color:"primary"},"\uc124\uc815"))),i.a.createElement("div",{className:k.a.screenContainer},i.a.createElement(T,{className:k.a.Screen,selectedTargetMoving:et,resetFunc:function(e){Se=e},width:800,height:500,movieClip:je,frame:1,selectedTargetChanged:H}),i.a.createElement("div",{className:k.a.Properties},i.a.createElement("div",{className:k.a.tfContainer},i.a.createElement(R.a,{label:"\uc624\ube0c\uc81d\ud2b8 \uc774\ub984",id:"outlined-margin-dense",defaultValue:"Default Value",className:k.a.test1,margin:"dense",variant:"outlined",value:r,onChange:function(e){if(void 0!=xe){if(c(e.target.value),b){for(var t=1;t<Fe.length;t++){if(Fe[t].name==b.name){Fe[t].name=e.target.value;break}}b.name=e.target.value}}else c("")}})),i.a.createElement("div",{className:k.a.test2},i.a.createElement(q.a,{className:O.link,"aria-label":"breadcrumb"},-1==ut.indexOf(Te)&&i.a.createElement("div",null),ut.map((function(e){return i.a.createElement(Z.a,{title:e.name,onClick:function(){A(e)},className:O.link},(e.name.slice(0,6)+"\u2026").slice(0,e.name.length))})))),i.a.createElement("div",{className:k.a.test3},i.a.createElement("div",{ref:function(e){_.current=e}},"X: - ")),i.a.createElement("div",{className:k.a.test4},i.a.createElement("div",{ref:function(e){E.current=e}},"Y: -")),i.a.createElement("input",{onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){var n,a=null===(n=e.target)||void 0===n?void 0:n.result;if(a){var i=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}();we.addDirectBase64(i,a.toString()).loaderLoad((function(){C(t.name,i)}))}},n.readAsDataURL(t)}},accept:"image/*",className:O.input,id:"contained-button-file",type:"file"}),i.a.createElement("div",{className:k.a.test5},i.a.createElement("label",{htmlFor:"contained-button-file"},i.a.createElement(D.a,{className:O.Button,variant:"contained",color:"primary",disableElevation:!0,component:"span"},"\uadf8\ub798\ud53d \ucd94\uac00"))),i.a.createElement("div",{className:k.a.test6},i.a.createElement(D.a,{className:O.Button,onClick:function(){void 0!=b&&(Be("new_movieclip"),ze(!0),Fe.push({name:"new_movieclip",xml:'<xml xmlns="https://developers.google.com/blockly/xml"></xml>'}))},variant:"contained",color:"primary",disableElevation:!0},"\ubb34\ube44\ud074\ub9bd\ud654 \ud558\uae30")),i.a.createElement("div",{className:k.a.test8},i.a.createElement(D.a,{className:O.Button,onClick:function(){void 0!=b&&b instanceof g.a&&A(b)},variant:"outlined",disableElevation:!0,disabled:!p},"\uc548\uc73c\ub85c \ub4e4\uc5b4\uac00\uae30")),i.a.createElement("div",{className:k.a.test9},i.a.createElement(D.a,{className:O.Button,onClick:function(){var e=je.getParent();e&&A(e)},variant:"outlined",disableElevation:!0,disabled:je==Te},"\ubc16\uc73c\ub85c \ub098\uac00\uae30")),i.a.createElement("div",{className:k.a.test7},i.a.createElement(D.a,{className:O.Button,onClick:function(){void 0!=De&&(console.log(je.getFrame(tt.current)),je.getFrame(tt.current).removeObject(De),Se(je,tt.current))},variant:"contained",color:"secondary",disableElevation:!0},"\uc0ad\uc81c"))),i.a.createElement(Oe,{currentFrame:null===ot||void 0===ot?void 0:ot.frame,maxFrame:null===ot||void 0===ot?void 0:ot.max,frameChanged:lt,frameAdd:function(e){lt(je.addFrame())},frameRemove:function(e){lt(je.removeFrame(e))}})),i.a.createElement(me,{initWidth:800,initHeight:400,onFocus:function(){return"Modal is clicked"},isOpen:!0,resizing:$e},i.a.createElement(S.a.BlocklyEditor,{initialXml:'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>',toolboxCategories:Object(j.a)('<xml xmlns="http://www.w3.org/1999/xhtml" id="toolbox" style="display: none;">\n<category name="Logic" colour="#5C81A6">\n  <block type="controls_if"></block>\n  <block type="logic_compare">\n    <field name="OP">EQ</field>\n  </block>\n  <block type="logic_operation">\n    <field name="OP">AND</field>\n  </block>\n  <block type="logic_negate"></block>\n  <block type="logic_boolean">\n    <field name="BOOL">TRUE</field>\n  </block>\n  <block type="logic_null"></block>\n  <block type="logic_ternary"></block>\n</category>\n<category name="Loops" colour="#5CA65C">\n  <block type="controls_repeat_ext">\n    <value name="TIMES">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="controls_whileUntil">\n    <field name="MODE">WHILE</field>\n  </block>\n  <block type="controls_for">\n    <field name="VAR" id="C(8;cYCF}~vSgkxzJ+{O" variabletype="">i</field>\n    <value name="FROM">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="TO">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n    <value name="BY">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="controls_forEach">\n    <field name="VAR" id="Cg!CSk/ZJo2XQN3=VVrz" variabletype="">j</field>\n  </block>\n  <block type="controls_flow_statements">\n    <field name="FLOW">BREAK</field>\n  </block>\n</category>\n<category name="Math" colour="#5C68A6">\n  <block type="math_round">\n    <field name="OP">ROUND</field>\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">3.1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_number">\n    <field name="NUM">0</field>\n  </block>\n  <block type="math_single">\n    <field name="OP">ROOT</field>\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">9</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_trig">\n    <field name="OP">SIN</field>\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">45</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_constant">\n    <field name="CONSTANT">PI</field>\n  </block>\n  <block type="math_number_property">\n    <mutation divisor_input="false"></mutation>\n    <field name="PROPERTY">EVEN</field>\n    <value name="NUMBER_TO_CHECK">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_arithmetic">\n    <field name="OP">ADD</field>\n    <value name="A">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="B">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_on_list">\n    <mutation op="SUM"></mutation>\n    <field name="OP">SUM</field>\n  </block>\n  <block type="math_modulo">\n    <value name="DIVIDEND">\n      <shadow type="math_number">\n        <field name="NUM">64</field>\n      </shadow>\n    </value>\n    <value name="DIVISOR">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_constrain">\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="LOW">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="HIGH">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_random_int">\n    <value name="FROM">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="TO">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_random_float"></block>\n</category>\n<category name="Text" colour="#5CA68D">\n  <block type="text_charAt">\n    <mutation at="true"></mutation>\n    <field name="WHERE">FROM_START</field>\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR" id="q@$ZF(L?Zo/z`d{o.Bp!" variabletype="">text</field>\n      </block>\n    </value>\n  </block>\n  <block type="text">\n    <field name="TEXT"></field>\n  </block>\n  <block type="text_append">\n    <field name="VAR" id=":};P,s[*|I8+L^-.EbRi" variabletype="">item</field>\n    <value name="TEXT">\n      <shadow type="text">\n        <field name="TEXT"></field>\n      </shadow>\n    </value>\n  </block>\n  <block type="text_length">\n    <value name="VALUE">\n      <shadow type="text">\n        <field name="TEXT">abc</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="text_isEmpty">\n    <value name="VALUE">\n      <shadow type="text">\n        <field name="TEXT"></field>\n      </shadow>\n    </value>\n  </block>\n  <block type="text_indexOf">\n    <field name="END">FIRST</field>\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR" id="q@$ZF(L?Zo/z`d{o.Bp!" variabletype="">text</field>\n      </block>\n    </value>\n    <value name="FIND">\n      <shadow type="text">\n        <field name="TEXT">abc</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="text_join">\n    <mutation items="2"></mutation>\n  </block>\n  <block type="text_getSubstring">\n    <mutation at1="true" at2="true"></mutation>\n    <field name="WHERE1">FROM_START</field>\n    <field name="WHERE2">FROM_START</field>\n    <value name="STRING">\n      <block type="variables_get">\n        <field name="VAR" id="q@$ZF(L?Zo/z`d{o.Bp!" variabletype="">text</field>\n      </block>\n    </value>\n  </block>\n  <block type="text_changeCase">\n    <field name="CASE">UPPERCASE</field>\n    <value name="TEXT">\n      <shadow type="text">\n        <field name="TEXT">abc</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="text_trim">\n    <field name="MODE">BOTH</field>\n    <value name="TEXT">\n      <shadow type="text">\n        <field name="TEXT">abc</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="text_print">\n    <value name="TEXT">\n      <shadow type="text">\n        <field name="TEXT">abc</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="text_prompt_ext">\n    <mutation type="TEXT"></mutation>\n    <field name="TYPE">TEXT</field>\n    <value name="TEXT">\n      <shadow type="text">\n        <field name="TEXT">abc</field>\n      </shadow>\n    </value>\n  </block>\n</category>\n<category name="Lists" colour="#745CA6">\n  <block type="lists_indexOf">\n    <field name="END">FIRST</field>\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR" id="e`(L;x,.j[[XN`F33Q5." variabletype="">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_create_with">\n    <mutation items="0"></mutation>\n  </block>\n  <block type="lists_repeat">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">5</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="lists_length"></block>\n  <block type="lists_isEmpty"></block>\n  <block type="lists_create_with">\n    <mutation items="3"></mutation>\n  </block>\n  <block type="lists_getIndex">\n    <mutation statement="false" at="true"></mutation>\n    <field name="MODE">GET</field>\n    <field name="WHERE">FROM_START</field>\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR" id="e`(L;x,.j[[XN`F33Q5." variabletype="">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_setIndex">\n    <mutation at="true"></mutation>\n    <field name="MODE">SET</field>\n    <field name="WHERE">FROM_START</field>\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR" id="e`(L;x,.j[[XN`F33Q5." variabletype="">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_getSublist">\n    <mutation at1="true" at2="true"></mutation>\n    <field name="WHERE1">FROM_START</field>\n    <field name="WHERE2">FROM_START</field>\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR" id="e`(L;x,.j[[XN`F33Q5." variabletype="">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_split">\n    <mutation mode="SPLIT"></mutation>\n    <field name="MODE">SPLIT</field>\n    <value name="DELIM">\n      <shadow type="text">\n        <field name="TEXT">,</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="lists_sort">\n    <field name="TYPE">NUMERIC</field>\n    <field name="DIRECTION">1</field>\n  </block>\n</category>\n<category name="Colour" colour="#A6745C">\n  <block type="colour_picker">\n    <field name="COLOUR">#ff0000</field>\n  </block>\n  <block type="colour_random"></block>\n  <block type="colour_rgb">\n    <value name="RED">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n    <value name="GREEN">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="BLUE">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="colour_blend">\n    <value name="COLOUR1">\n      <shadow type="colour_picker">\n        <field name="COLOUR">#ff0000</field>\n      </shadow>\n    </value>\n    <value name="COLOUR2">\n      <shadow type="colour_picker">\n        <field name="COLOUR">#3333ff</field>\n      </shadow>\n    </value>\n    <value name="RATIO">\n      <shadow type="math_number">\n        <field name="NUM">0.5</field>\n      </shadow>\n    </value>\n  </block>\n</category>\n<sep></sep>\n<category name="Custom Button" colour="#A6745C">\n  <button text="A button" callbackKey="myFirstButtonPressed"></button>\n</category>\n<category name="Variables" colour="#A65C81" custom="VARIABLE"></category>\n<category name="Functions" colour="#9A5CA6" custom="PROCEDURE"></category>\n<category name="Engine" colour="#5ba55b">\n<block type="gamestart"></block>\n<block type="setpos">\n  <value name="object">\n    <block type="getobject">\n      <value name="objectName">\n        <block type="text">\n          <field name="TEXT"></field>\n        </block>\n      </value>\n    </block>\n  </value>\n  <value name="X">\n    <block type="math_number">\n      <field name="NUM">0</field>\n    </block>\n  </value>\n  <value name="Y">\n    <block type="math_number">\n      <field name="NUM">0</field>\n    </block>\n  </value>\n</block>\n<block type="getpos">\n  <field name="type">x</field>\n  <value name="object">\n    <block type="getobject">\n      <value name="objectName">\n        <block type="text">\n          <field name="TEXT"></field>\n        </block>\n      </value>\n    </block>\n  </value>\n</block>\n<block type="gametick"></block>\n<block type="getmousestate">\n  <field name="stateType">isDown</field>\n</block>\n<block type="getmouseevent">\n  <field name="eventType">isDown</field>\n</block>\n<block type="getkeyboardstate">\n  <field name="statetype">isDown</field>\n  <value name="keycode">\n    <block type="math_number">\n      <field name="NUM">0</field>\n    </block>\n  </value>\n</block>\n<block type="getkeyboardevent">\n  <field name="eventType">isDown</field>\n  <value name="keycode">\n    <block type="math_number">\n      <field name="NUM">0</field>\n    </block>\n  </value>\n</block>\n<block type="addphysics">\n  <value name="object">\n    <block type="getobject">\n      <value name="objectName">\n        <block type="text">\n          <field name="TEXT"></field>\n        </block>\n      </value>\n    </block>\n  </value>\n  <value name="friction">\n    <block type="math_number">\n      <field name="NUM">0.1</field>\n    </block>\n  </value>\n  <value name="mass">\n    <block type="math_number">\n      <field name="NUM">0.0001</field>\n    </block>\n  </value>\n</block>\n<block type="addforce">\n  <value name="object">\n    <block type="getobject">\n      <value name="objectName">\n        <block type="text">\n          <field name="TEXT"></field>\n        </block>\n      </value>\n    </block>\n  </value>\n  <value name="X">\n    <block type="math_number">\n      <field name="NUM">0</field>\n    </block>\n  </value>\n  <value name="Y">\n    <block type="math_number">\n      <field name="NUM">0</field>\n    </block>\n  </value>\n</block>\n<block type="setvelocity">\n  <value name="object">\n    <block type="getobject">\n      <value name="objectName">\n        <block type="text">\n          <field name="TEXT"></field>\n        </block>\n      </value>\n    </block>\n  </value>\n  <value name="X">\n    <block type="math_number">\n      <field name="NUM">0</field>\n    </block>\n  </value>\n  <value name="Y">\n    <block type="math_number">\n      <field name="NUM">0</field>\n    </block>\n  </value>\n</block>\n<block type="getvelocity">\n  <field name="type">x</field>\n  <value name="object">\n    <block type="getobject">\n      <value name="objectName">\n        <block type="text">\n          <field name="TEXT"></field>\n        </block>\n      </value>\n    </block>\n  </value>\n</block>\n<block type="checkcollision">\n  <value name="a">\n    <block type="getobject">\n      <value name="objectName">\n        <block type="text">\n          <field name="TEXT"></field>\n        </block>\n      </value>\n    </block>\n  </value>\n  <value name="b">\n    <block type="getobject">\n      <value name="objectName">\n        <block type="text">\n          <field name="TEXT"></field>\n        </block>\n      </value>\n    </block>\n  </value>\n</block>\n<block type="mouseevent">\n  <field name="type">mousedown</field>\n  <value name="object">\n    <block type="getobject">\n      <value name="objectName">\n        <block type="text">\n          <field name="TEXT"></field>\n        </block>\n      </value>\n    </block>\n  </value>\n</block>\n<block type="setrotation">\n      <value name="object">\n        <block type="getobject">\n          <value name="objectName">\n            <block type="text">\n              <field name="TEXT"></field>\n            </block>\n          </value>\n        </block>\n      </value>\n      <value name="NAME">\n        <block type="math_number">\n          <field name="NUM">0</field>\n        </block>\n      </value>\n    </block>\n    <block type="currentobject"/>\n    <block type="checkdrawing">\n    <value name="isDrawing">\n      <block type="getobject">\n        <value name="objectName">\n          <block type="text">\n            <field name="TEXT"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n  </block>\n  <block type="getcurrentframe">\n    <value name="currentframe">\n      <block type="getobject">\n        <value name="objectName">\n          <block type="text">\n            <field name="TEXT"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n  </block>\n  <block type="stop">\n    <value name="obj">\n      <block type="getobject">\n        <value name="objectName">\n          <block type="text">\n            <field name="TEXT"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n  </block>\n  <block type="play">\n    <value name="obj">\n      <block type="getobject">\n        <value name="objectName">\n          <block type="text">\n            <field name="TEXT"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n  </block>\n  <block type="gotoandplay">\n    <value name="obj">\n      <block type="getobject">\n        <value name="objectName">\n          <block type="text">\n            <field name="TEXT"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name="frame">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n  </block>\n  <block type="gotoandstop">\n    <value name="obj">\n      <block type="getobject">\n        <value name="objectName">\n          <block type="text">\n            <field name="TEXT"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name="frame">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n  </block>\n</category>\n</xml>'),wrapperDivClassName:k.a.Blockly,workspaceDidChange:function(e){Me||(console.log("\uc801\uc6a9!"),Me=!0,ne=e)}})),i.a.createElement("div",{id:"copy",style:{display:"none"}},"http://mandunda.com/#/player/"+ge.replace(" ","_")))},Ne=n(86),Ie=n.n(Ne),Ue=Object(f.e)((function(e){var t=e.match;console.log(t.params.id);var n=a.useState(""),i=Object(v.a)(n,2),o=i[0],s=i[1],l=a.useState(!1),r=Object(v.a)(l,2),c=r[0],u=r[1];return a.useEffect((function(){fetch("http://220.121.52.155:5353/"+t.params.id).then((function(e){return e.text()})).then((function(e){s(e),u(!0)}))}),[]),a.createElement("div",{className:Ie.a.GamePlayer},c?a.createElement(oe.a,{className:Ie.a.GameScreen,gameJson:o,width:800,height:500}):a.createElement("div",{className:Ie.a.loading},"LOADING"))})),Ae=function(){return i.a.createElement("div",null,i.a.createElement(h.a,null,i.a.createElement(f.a,{exact:!0,path:"/",component:Re}),i.a.createElement(f.a,{path:"/player/:id",component:Ue})))};s.a.render(i.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[156,1,2]]]);
//# sourceMappingURL=main.2b76db35.chunk.js.map